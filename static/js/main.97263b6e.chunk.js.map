{"version":3,"sources":["App.jsx","index.js"],"names":["App","useState","photos","setPhotos","currentPage","setCurrentPage","isFetching","setIsFetching","totalCount","setTotalCount","scrollHandler","e","target","documentElement","scrollHeight","scrollTop","window","innerHeight","length","useEffect","axios","get","then","response","data","prevState","headers","finally","document","addEventListener","removeEventListener","className","map","item","id","src","thumbnailUrl","alt","ReactDOM","render","StrictMode","getElementById"],"mappings":"wNAyDeA,MArDf,WAEE,MAA4BC,mBAAS,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAAsCF,mBAAS,GAA/C,mBAAOG,EAAP,KAAoBC,EAApB,KACA,EAAoCJ,oBAAS,GAA7C,mBAAOK,EAAP,KAAmBC,EAAnB,KACA,EAAoCN,mBAAS,GAA7C,mBAAOO,EAAP,KAAmBC,EAAnB,KAEMC,EAAgB,SAAAC,GACjBA,EAAEC,OAAOC,gBAAgBC,cAAgBH,EAAEC,OAAOC,gBAAgBE,UAAYC,OAAOC,aAAe,KAAOf,EAAOgB,OAASV,GAC5HD,GAAc,IA6BlB,OAzBAY,qBAAU,WACLb,GACDc,IAAMC,IAAN,sEAAyEjB,IACxEkB,MAAK,SAAAC,GACJpB,EAAU,GAAD,mBAAKD,GAAL,YAAgBqB,EAASC,QAClCnB,GAAe,SAAAoB,GAAS,OAAIA,EAAY,KACxChB,EAAcc,EAASG,QAAQ,qBAEhCC,SAAQ,WACPpB,GAAc,QAIjB,CAACD,IAGJa,qBAAU,WAGR,OAFAS,SAASC,iBAAiB,SAAUnB,GAE7B,WACLkB,SAASE,oBAAoB,SAAUpB,MAExC,CAACJ,IAIF,qBAAKyB,UAAU,MAAf,SAEI7B,EAAO8B,KAAI,SAAAC,GAAI,OACb,sBAAmBF,UAAU,QAA7B,UACE,qBAAKA,UAAU,QAAf,SAAyBE,EAAKC,KAC9B,qBAAKC,IAAKF,EAAKG,aAAcC,IAAI,OAFzBJ,EAAKC,UC1CzBI,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFZ,SAASa,eAAe,W","file":"static/js/main.97263b6e.chunk.js","sourcesContent":["import './App.css';\nimport React, {useState, useEffect} from 'react'\nimport axios from 'axios';\n\nfunction App() {\n\n  const [photos, setPhotos] = useState([])\n  const [currentPage, setCurrentPage] = useState(1)\n  const [isFetching, setIsFetching] = useState(true)\n  const [totalCount, setTotalCount] = useState(0)\n\n  const scrollHandler = e => {\n    if(e.target.documentElement.scrollHeight - (e.target.documentElement.scrollTop + window.innerHeight) < 100 && photos.length < totalCount ) {\n      setIsFetching(true)\n    }\n  }\n\n  useEffect(() => {\n    if(isFetching){\n      axios.get(`https://jsonplaceholder.typicode.com/photos?_limit=10&_page=${currentPage}`)\n      .then(response => {\n        setPhotos([...photos, ...response.data])\n        setCurrentPage(prevState => prevState + 1)\n        setTotalCount(response.headers['x-total-count'])\n      })\n      .finally(() => {\n        setIsFetching(false)\n      })\n    }\n    \n  }, [isFetching])\n\n\n  useEffect(() => {\n    document.addEventListener('scroll', scrollHandler)\n\n    return () => {\n      document.removeEventListener('scroll', scrollHandler)\n    }\n  }, [isFetching])\n\n\n  return (\n    <div className=\"App\">\n      {\n        photos.map(item => \n          <div key={item.id} className=\"photo\">\n            <div className=\"title\">{ item.id}</div>\n            <img src={item.thumbnailUrl} alt=\"\" />\n\n          </div>\n          )\n      }\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}